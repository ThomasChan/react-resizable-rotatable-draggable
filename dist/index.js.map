{"version":3,"file":"index.js","sources":["../src/utils.js","../src/Rect/index.js","../src/index.js"],"sourcesContent":["export const getLength = (x, y) => Math.sqrt(x * x + y * y)\n\nexport const getAngle = ({ x: x1, y: y1 }, { x: x2, y: y2 }) => {\n  const dot = x1 * x2 + y1 * y2\n  const det = x1 * y2 - y1 * x2\n  const angle = Math.atan2(det, dot) / Math.PI * 180\n  return (angle + 360) % 360\n}\n\nexport const degToRadian = (deg) => deg * Math.PI / 180\n\nconst cos = (deg) => Math.cos(degToRadian(deg))\nconst sin = (deg) => Math.sin(degToRadian(deg))\n\nconst setWidthAndDeltaW = (width, deltaW, minWidth) => {\n  const expectedWidth = width + deltaW\n  if (expectedWidth > minWidth) {\n    width = expectedWidth\n  } else {\n    deltaW = minWidth - width\n    width = minWidth\n  }\n  return { width, deltaW }\n}\n\nconst setHeightAndDeltaH = (height, deltaH, minHeight) => {\n  const expectedHeight = height + deltaH\n  if (expectedHeight > minHeight) {\n    height = expectedHeight\n  } else {\n    deltaH = minHeight - height\n    height = minHeight\n  }\n  return { height, deltaH }\n}\n\nexport const getNewStyle = (type, rect, deltaW, deltaH, ratio, minWidth, minHeight) => {\n  let { width, height, centerX, centerY, rotateAngle } = rect\n  const widthFlag = width < 0 ? -1 : 1\n  const heightFlag = height < 0 ? -1 : 1\n  width = Math.abs(width)\n  height = Math.abs(height)\n  switch (type) {\n    case 'r': {\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      if (ratio) {\n        deltaH = deltaW / ratio\n        height = width / ratio\n        // 左上角固定\n        centerX += deltaW / 2 * cos(rotateAngle) - deltaH / 2 * sin(rotateAngle)\n        centerY += deltaW / 2 * sin(rotateAngle) + deltaH / 2 * cos(rotateAngle)\n      } else {\n        // 左边固定\n        centerX += deltaW / 2 * cos(rotateAngle)\n        centerY += deltaW / 2 * sin(rotateAngle)\n      }\n      break\n    }\n    case 'tr': {\n      deltaH = -deltaH\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        deltaW = deltaH * ratio\n        width = height * ratio\n      }\n      centerX += deltaW / 2 * cos(rotateAngle) + deltaH / 2 * sin(rotateAngle)\n      centerY += deltaW / 2 * sin(rotateAngle) - deltaH / 2 * cos(rotateAngle)\n      break\n    }\n    case 'br': {\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        deltaW = deltaH * ratio\n        width = height * ratio\n      }\n      centerX += deltaW / 2 * cos(rotateAngle) - deltaH / 2 * sin(rotateAngle)\n      centerY += deltaW / 2 * sin(rotateAngle) + deltaH / 2 * cos(rotateAngle)\n      break\n    }\n    case 'b': {\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        deltaW = deltaH * ratio\n        width = height * ratio\n        // 左上角固定\n        centerX += deltaW / 2 * cos(rotateAngle) - deltaH / 2 * sin(rotateAngle)\n        centerY += deltaW / 2 * sin(rotateAngle) + deltaH / 2 * cos(rotateAngle)\n      } else {\n        // 上边固定\n        centerX -= deltaH / 2 * sin(rotateAngle)\n        centerY += deltaH / 2 * cos(rotateAngle)\n      }\n      break\n    }\n    case 'bl': {\n      deltaW = -deltaW\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        height = width / ratio\n        deltaH = deltaW / ratio\n      }\n      centerX -= deltaW / 2 * cos(rotateAngle) + deltaH / 2 * sin(rotateAngle)\n      centerY -= deltaW / 2 * sin(rotateAngle) - deltaH / 2 * cos(rotateAngle)\n      break\n    }\n    case 'l': {\n      deltaW = -deltaW\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      if (ratio) {\n        height = width / ratio\n        deltaH = deltaW / ratio\n        // 右上角固定\n        centerX -= deltaW / 2 * cos(rotateAngle) + deltaH / 2 * sin(rotateAngle)\n        centerY -= deltaW / 2 * sin(rotateAngle) - deltaH / 2 * cos(rotateAngle)\n      } else {\n        // 右边固定\n        centerX -= deltaW / 2 * cos(rotateAngle)\n        centerY -= deltaW / 2 * sin(rotateAngle)\n      }\n      break\n    }\n    case 'tl': {\n      deltaW = -deltaW\n      deltaH = -deltaH\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        width = height * ratio\n        deltaW = deltaH * ratio\n      }\n      centerX -= deltaW / 2 * cos(rotateAngle) - deltaH / 2 * sin(rotateAngle)\n      centerY -= deltaW / 2 * sin(rotateAngle) + deltaH / 2 * cos(rotateAngle)\n      break\n    }\n    case 't': {\n      deltaH = -deltaH\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        width = height * ratio\n        deltaW = deltaH * ratio\n        // 左下角固定\n        centerX += deltaW / 2 * cos(rotateAngle) + deltaH / 2 * sin(rotateAngle)\n        centerY += deltaW / 2 * sin(rotateAngle) - deltaH / 2 * cos(rotateAngle)\n      } else {\n        centerX += deltaH / 2 * sin(rotateAngle)\n        centerY -= deltaH / 2 * cos(rotateAngle)\n      }\n      break\n    }\n  }\n\n  return {\n    position: {\n      centerX,\n      centerY\n    },\n    size: {\n      width: width * widthFlag,\n      height: height * heightFlag\n    }\n  }\n}\n\nconst cursorStartMap = { n: 0, ne: 1, e: 2, se: 3, s: 4, sw: 5, w: 6, nw: 7 }\nconst cursorDirectionArray = [ 'n', 'ne', 'e', 'se', 's', 'sw', 'w', 'nw' ]\nconst cursorMap = { 0: 0, 1: 1, 2: 2, 3: 2, 4: 3, 5: 4, 6: 4, 7: 5, 8: 6, 9: 6, 10: 7, 11: 8 }\nexport const getCursor = (rotateAngle, d) => {\n  const increment = cursorMap[ Math.floor(rotateAngle / 30) ]\n  const index = cursorStartMap[ d ]\n  const newIndex = (index + increment) % 8\n  return cursorDirectionArray[ newIndex ]\n}\n\nexport const centerToTL = ({ centerX, centerY, width, height, rotateAngle }) => ({\n  top: centerY - height / 2,\n  left: centerX - width / 2,\n  width,\n  height,\n  rotateAngle\n})\n\nexport const tLToCenter = ({ top, left, width, height, rotateAngle }) => ({\n  position: {\n    centerX: left + width / 2,\n    centerY: top + height / 2\n  },\n  size: {\n    width,\n    height\n  },\n  transform: {\n    rotateAngle\n  }\n})\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { getLength, getAngle, getCursor } from '../utils'\n\nconst zoomableMap = {\n  'n': 't',\n  's': 'b',\n  'e': 'r',\n  'w': 'l',\n  'ne': 'tr',\n  'nw': 'tl',\n  'se': 'br',\n  'sw': 'bl'\n}\n\nexport default class Rect extends PureComponent {\n  static propTypes = {\n    className: PropTypes.string,\n    styles: PropTypes.object,\n    zoomable: PropTypes.string,\n    rotatable: PropTypes.bool,\n    onResizeStart: PropTypes.func,\n    onResize: PropTypes.func,\n    onResizeStop: PropTypes.func,\n    onRotateStart: PropTypes.func,\n    onRotate: PropTypes.func,\n    onRotateStop: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragStop: PropTypes.func,\n    parentRotateAngle: PropTypes.number\n  }\n\n  setElementRef = (ref) => {\n    this.el = ref;\n  }\n\n  // Drag\n  startDrag = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    this.startX = e.clientX\n    this.startY = e.clientY\n    this.props.onDragStart && this.props.onDragStart(this.el)\n    this._isDragging = true\n    document.addEventListener('mousemove', this.onDragMove)\n    document.addEventListener('mouseup', this.onDragUp)\n  }\n\n  onDragMove = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this._isDragging) return // patch: fix windows press win key during mouseup issue\n    const { clientX, clientY } = e\n    const deltaX = clientX - this.startX\n    const deltaY = clientY - this.startY\n    this.props.onDrag(deltaX, deltaY, this.el)\n    this.startX = clientX\n    this.startY = clientY\n  }\n\n  onDragUp = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    document.removeEventListener('mousemove', this.onDragMove)\n    document.removeEventListener('mouseup', this.onDragUp)\n    if (!this._isDragging) return\n    this._isDragging = false\n    const { clientX, clientY } = e\n    const deltaX = clientX - this.startX\n    const deltaY = clientY - this.startY\n    this.props.onDragStop && this.props.onDragStop(deltaX, deltaY, this.el)\n  }\n\n  // Rotate\n  startRotate = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.button !== 0) return\n    const { clientX, clientY } = e\n    const rect = this.el.getBoundingClientRect()\n    this.center = {\n      x: rect.left + rect.width / 2,\n      y: rect.top + rect.height / 2\n    }\n    this.startVector = {\n      x: clientX - this.center.x,\n      y: clientY - this.center.y\n    }\n    this.startAngle = this.props.styles.transform.rotateAngle\n    this.props.onRotateStart && this.props.onRotateStart(this.el)\n    this._isRotating = true\n    document.addEventListener('mousemove', this.onRotateMove)\n    document.addEventListener('mouseup', this.onRotateUp)\n  }\n\n  onRotateMove = (e) => {\n    if (!this._isRotating) return // patch: fix windows press win key during mouseup issue\n    const { clientX, clientY } = e\n    const rotateVector = {\n      x: clientX - this.center.x,\n      y: clientY - this.center.y\n    }\n    const angle = getAngle(this.startVector, rotateVector)\n    this.props.onRotate(angle, this.startAngle, this.el)\n  }\n\n  onRotateUp = (e) => {\n    document.removeEventListener('mousemove', this.onRotateMove)\n    document.removeEventListener('mouseup', this.onRotateUp)\n    if (!this._isRotating) return\n    this._isRotating = false\n    const { clientX, clientY } = e\n    const rotateVector = {\n      x: clientX - this.center.x,\n      y: clientY - this.center.y\n    }\n    const angle = getAngle(this.startVector, rotateVector)\n    this.props.onRotateStop && this.props.onRotateStop(angle, this.startAngle, this.el)\n  }\n  // Resize\n  startResize = (e, cursor) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.button !== 0) return\n    document.body.style.cursor = cursor\n    const { styles: { position: { centerX, centerY }, size: { width, height }, transform: { rotateAngle } } } = this.props\n    this.startX = e.clientX\n    this.startY = e.clientY\n    this.rect = { width, height, centerX, centerY, rotateAngle }\n    this.type = e.target.getAttribute('class').split(' ')[ 0 ]\n    this.props.onResizeStart && this.props.onResizeStart(this.el)\n    this._isResizing = true\n    document.addEventListener('mousemove', this.onResizeMove)\n    document.addEventListener('mouseup', this.onResizeUp)\n  }\n\n  onResizeMove = (e) => {\n    if (!this._isResizing) return // patch: fix windows press win key during mouseup issue\n    const { clientX, clientY } = e\n    const deltaX = clientX - this.startX\n    const deltaY = clientY - this.startY\n    const alpha = Math.atan2(deltaY, deltaX)\n    const deltaL = getLength(deltaX, deltaY)\n    const isShiftKey = e.shiftKey\n    this.props.onResize(deltaL, alpha, this.rect, this.type, isShiftKey, this.el)\n  }\n\n  onResizeUp = (e) => {\n    document.body.style.cursor = 'auto'\n    document.removeEventListener('mousemove', this.onResizeMove)\n    document.removeEventListener('mouseup', this.onResizeUp)\n    if (!this._isResizing) return\n    this._isResizing = false\n    const { clientX, clientY } = e\n    const deltaX = clientX - this.startX\n    const deltaY = clientY - this.startY\n    const alpha = Math.atan2(deltaY, deltaX)\n    const deltaL = getLength(deltaX, deltaY)\n    const isShiftKey = e.shiftKey\n    this.props.onResizeStop && this.props.onResizeStop(deltaL, alpha, this.rect, this.type, isShiftKey, this.el)\n  }\n\n  render () {\n    const {\n      className,\n      styles: {\n        position: { centerX, centerY },\n        size: { width, height },\n        transform: { rotateAngle }\n      },\n      minWidth,\n      minHeight,\n      zoomable,\n      rotatable,\n      parentRotateAngle,\n      children,\n      onResizeStart,\n      onResize,\n      onResizeStop,\n      onRotateStart,\n      onRotate,\n      onRotateStop,\n      onDragStart,\n      onDrag,\n      onDragStop,\n      ...props\n    } = this.props\n    const style = {\n      width: Math.abs(width),\n      height: Math.abs(height),\n      transform: `translate3d(${centerX - Math.abs(width) / 2}px, ${centerY - Math.abs(height) / 2}px, 0) rotate(${rotateAngle}deg)`\n    }\n    const direction = zoomable.split(',').map(d => d.trim()).filter(d => d)\n\n    return (\n      <div\n        {...props}\n        ref={this.setElementRef}\n        onMouseDown={this.startDrag}\n        className={className}\n        style={style}\n      >\n        {rotatable && <div className=\"rotate\" onMouseDown={this.startRotate} />}\n        {direction.map(d => {\n          const cursor = `${getCursor(rotateAngle + parentRotateAngle, d)}-resize`\n          return (\n            <div\n              key={d}\n              style={{ cursor }}\n              className={`${zoomableMap[d]} resizable-handler`}\n              onMouseDown={(e) => this.startResize(e, cursor)}\n            />\n          )\n        })}\n        {children}\n      </div>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport Rect from './Rect'\nimport { centerToTL, tLToCenter, getNewStyle, degToRadian } from './utils'\n\nexport default class DrrHOC extends Component {\n\n  static propTypes = {\n    className: PropTypes.string,\n    left: PropTypes.number.isRequired,\n    top: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    rotatable: PropTypes.bool,\n    rotateAngle: PropTypes.number,\n    parentRotateAngle: PropTypes.number,\n    zoomable: PropTypes.string,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    aspectRatio: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.bool\n    ]),\n    onRotateStart: PropTypes.func,\n    onRotate: PropTypes.func,\n    onRotateStop: PropTypes.func,\n    onResizeStart: PropTypes.func,\n    onResize: PropTypes.func,\n    onResizeStop: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragStop: PropTypes.func\n  }\n\n  static defaultProps = {\n    parentRotateAngle: 0,\n    rotateAngle: 0,\n    rotatable: true,\n    zoomable: '',\n    minWidth: 10,\n    minHeight: 10\n  }\n\n  handleRotate = (angle, startAngle, el) => {\n    if (!this.props.onRotate) return\n    let rotateAngle = Math.round(startAngle + angle)\n    if (rotateAngle >= 360) {\n      rotateAngle -= 360\n    } else if (rotateAngle < 0) {\n      rotateAngle += 360\n    }\n    if (rotateAngle > 356 || rotateAngle < 4) {\n      rotateAngle = 0\n    } else if (rotateAngle > 86 && rotateAngle < 94) {\n      rotateAngle = 90\n    } else if (rotateAngle > 176 && rotateAngle < 184) {\n      rotateAngle = 180\n    } else if (rotateAngle > 266 && rotateAngle < 274) {\n      rotateAngle = 270\n    }\n    return [rotateAngle, el]\n  }\n\n  onRotate = (...p) => {\n    if (typeof this.props.onRotate === 'function') {\n      this.props.onRotate(...this.handleRotate(...p))\n    }\n  }\n\n  onRotateStop = (...p) => {\n    if (typeof this.props.onRotateStop === 'function') {\n      this.props.onRotateStop(...this.handleRotate(...p))\n    }\n  }\n\n  handleResize = (length, alpha, rect, type, isShiftKey, el) => {\n    if (!this.props.onResize) return\n    const { rotateAngle, aspectRatio, minWidth, minHeight, parentRotateAngle } = this.props\n    const beta = alpha - degToRadian(rotateAngle + parentRotateAngle)\n    const deltaW = length * Math.cos(beta)\n    const deltaH = length * Math.sin(beta)\n    const ratio = isShiftKey && !aspectRatio ? rect.width / rect.height : aspectRatio\n    const {\n      position: { centerX, centerY },\n      size: { width, height }\n    } = getNewStyle(type, { ...rect, rotateAngle }, deltaW, deltaH, ratio, minWidth, minHeight)\n\n    return [centerToTL({ centerX, centerY, width, height, rotateAngle }), isShiftKey, type, el]\n  }\n\n  onResize = (...p) => {\n    if (typeof this.props.onResize === 'function') {\n      this.props.onResize(...this.handleResize(...p))\n    }\n  }\n\n  onResizeStop = (...p) => {\n    if (typeof this.props.onResizeStop === 'function') {\n      this.props.onResizeStop(...this.handleResize(...p))\n    }\n  }\n\n  render () {\n    const {\n      top, left, width, height, rotateAngle, parentRotateAngle, zoomable, rotatable,\n      className, children,\n      ...props\n    } = this.props\n\n    const styles = tLToCenter({ top, left, width, height, rotateAngle })\n\n    return (\n      <Rect\n        className={className}\n        styles={styles}\n        zoomable={zoomable}\n        rotatable={rotatable}\n        parentRotateAngle={parentRotateAngle}\n        {...props}\n        onResize={this.onResize}\n        onResizeStop={this.onResizeStop}\n        onRotate={this.onRotate}\n        onRotateStop={this.onRotateStop}\n      >\n        {children}\n      </Rect>\n    )\n  }\n}\n"],"names":["getLength","x","y","Math","sqrt","getAngle","x1","y1","x2","y2","dot","det","angle","atan2","PI","degToRadian","deg","cos","sin","setWidthAndDeltaW","width","deltaW","minWidth","expectedWidth","setHeightAndDeltaH","height","deltaH","minHeight","expectedHeight","getNewStyle","type","rect","ratio","centerX","centerY","rotateAngle","widthFlag","heightFlag","abs","widthAndDeltaW","heightAndDeltaH","position","size","cursorStartMap","n","ne","e","se","s","sw","w","nw","cursorDirectionArray","cursorMap","getCursor","d","increment","floor","index","newIndex","centerToTL","top","left","tLToCenter","transform","zoomableMap","Rect","ref","el","preventDefault","stopPropagation","startX","clientX","startY","clientY","props","onDragStart","_isDragging","document","addEventListener","onDragMove","onDragUp","deltaX","deltaY","onDrag","removeEventListener","onDragStop","button","getBoundingClientRect","center","startVector","startAngle","styles","onRotateStart","_isRotating","onRotateMove","onRotateUp","rotateVector","onRotate","onRotateStop","cursor","body","style","target","getAttribute","split","onResizeStart","_isResizing","onResizeMove","onResizeUp","alpha","deltaL","isShiftKey","shiftKey","onResize","onResizeStop","className","zoomable","rotatable","parentRotateAngle","children","direction","map","trim","filter","React","setElementRef","startDrag","startRotate","startResize","PureComponent","PropTypes","string","object","bool","func","number","DrrHOC","round","handleRotate","length","aspectRatio","beta","handleResize","Component","isRequired","oneOfType"],"mappings":"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"}